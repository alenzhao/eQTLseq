setwd("~/Projects/eqtlseq")
metrics =
read_tsv('metrics_cv_075.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T)) %>%
select(-TRANS)
require(tidyverse)
metrics =
read_tsv('metrics_cv_075.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T)) %>%
select(-TRANS)
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = PCC), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = PCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = RHO), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = RHO), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = PCC), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = PCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(MODEL %in% c('nbin', 'bin', 'pois'))) +
geom_jitter(aes(x = MODEL, y = PCC), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = PCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(MODEL %in% c('log', 'bcox', 'blom', 'voom'))) +
geom_jitter(aes(x = MODEL, y = PCC), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = PCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = PCC), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = PCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_cv_050.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T)) %>%
select(-TRANS)
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = PCC), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = PCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = RHO), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = RHO), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = nMSE), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = nMSE), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_cv_075.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T)) %>%
select(-TRANS)
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = nMSE), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = nMSE), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = R2), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = R2), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = X2p), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = X2p), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(MODEL %in% c('nbin', 'log', 'blom', 'bcox', 'voom'))) +
geom_jitter(aes(x = MODEL, y = X2p), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = X2p), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_cv_050.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T)) %>%
select(-TRANS)
ggplot(metrics %>% filter(MODEL %in% c('nbin', 'log', 'blom', 'bcox', 'voom'))) +
geom_jitter(aes(x = MODEL, y = X2p), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = X2p), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_roc_095.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T),
RSS = ifelse(is.na(RSS), 0, RSS),
M = sqrt(ifelse(MCC < 0, 0, MCC) / (RSS + 1))) %>%
select(-TRANS)
ggplot(metrics %>% filter(MCC > 0)) +
geom_jitter(aes(x = MODEL, y = MCC), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = MCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(MCC > 0)) +
geom_jitter(aes(x = MODEL, y = M), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = M), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(M > 0)) +
geom_jitter(aes(x = MODEL, y = M), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = M), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(MCC > 0)) +
geom_jitter(aes(x = MODEL, y = MCC), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = MCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(M > 0)) +
geom_jitter(aes(x = MODEL, y = M), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = M), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_cv_226.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T)) %>%
select(-TRANS)
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = X2p), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = X2p), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_cv_430.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T)) %>%
select(-TRANS)
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = X2p), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = X2p), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = PCC), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = PCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_cv_226.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T)) %>%
select(-TRANS)
ggplot(metrics) +
geom_jitter(aes(x = MODEL, y = PCC), width = 0.2, size = 0.1, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = PCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_roc_226.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T),
RSS = ifelse(is.na(RSS), 0, RSS),
M = sqrt(ifelse(MCC < 0, 0, MCC) / (RSS + 1))) %>%
select(-TRANS)
ggplot(metrics %>% filter(M > 0)) +
geom_jitter(aes(x = MODEL, y = M), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = M), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(MCC > 0)) +
geom_jitter(aes(x = MODEL, y = MCC), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = MCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(MCC > 0)) +
geom_jitter(aes(x = MODEL, y = MCC), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = MCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(M > 0)) +
geom_jitter(aes(x = MODEL, y = M), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = M), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_roc_430.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T),
RSS = ifelse(is.na(RSS), 0, RSS),
M = sqrt(ifelse(MCC < 0, 0, MCC) / (RSS + 1))) %>%
select(-TRANS)
ggplot(metrics %>% filter(M > 0)) +
geom_jitter(aes(x = MODEL, y = M), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = M), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(M > 0)) +
geom_jitter(aes(x = MODEL, y = M), width = 0.2, size = 0.2, color = 'gray') +
# geom_boxplot(aes(x = MODEL, y = M), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(M > 0)) +
geom_jitter(aes(x = MODEL, y = M), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = M), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
ggplot(metrics %>% filter(MCC > 0)) +
geom_jitter(aes(x = MODEL, y = MCC), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = MCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_roc_430.2.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T),
RSS = ifelse(is.na(RSS), 0, RSS),
M = sqrt(ifelse(MCC < 0, 0, MCC) / (RSS + 1))) %>%
select(-TRANS)
ggplot(metrics %>% filter(MCC > 0)) +
geom_jitter(aes(x = MODEL, y = MCC), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = MCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_roc_226.2.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T),
RSS = ifelse(is.na(RSS), 0, RSS),
M = sqrt(ifelse(MCC < 0, 0, MCC) / (RSS + 1))) %>%
select(-TRANS)
ggplot(metrics %>% filter(MCC > 0)) +
geom_jitter(aes(x = MODEL, y = MCC), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = MCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
metrics =
read_tsv('metrics_roc_430.2.txt') %>%
mutate(MODEL = ifelse(MODEL == 'Normal', TRANS, MODEL),
MODEL = stringr::str_replace(MODEL, 'boxcox', 'bcox'),
MODEL = stringr::str_replace(MODEL, 'NBinomial', 'nbin'),
MODEL = stringr::str_replace(MODEL, 'Binomial', 'bin'),
MODEL = stringr::str_replace(MODEL, 'Poisson', 'pois'),
MODEL = factor(MODEL, levels = c('nbin', 'bin', 'pois', 'log', 'bcox', 'blom', 'voom'), ordered = T),
RSS = ifelse(is.na(RSS), 0, RSS),
M = sqrt(ifelse(MCC < 0, 0, MCC) / (RSS + 1))) %>%
select(-TRANS)
ggplot(metrics %>% filter(MCC > 0)) +
geom_jitter(aes(x = MODEL, y = MCC), width = 0.2, size = 0.2, color = 'gray') +
geom_boxplot(aes(x = MODEL, y = MCC), width = 0.2, outlier.shape = NA) +
scale_y_continuous(trans = 'identity')
